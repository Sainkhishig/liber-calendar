import{d as e,c as t,a,w as o,t as n,r,o as s,b as i,F as l,e as d,p as h,f as c,g,h as u,i as m}from"./vendor.cb5b3f02.js";var p=e({name:"CalendarViewHeader",props:{headerProps:{type:Object,required:!0},previousYearLabel:{type:String,default:"<<"},previousPeriodLabel:{type:String,default:"<"},nextPeriodLabel:{type:String,default:">"},nextYearLabel:{type:String,default:">>"}},emits:["input"],methods:{onInput(e){this.$emit("input",e)}}});const D={class:"cv-header"},y={class:"cv-header-nav"},f={class:"periodLabel"};p.render=function(e,l,d,h,c,g){return s(),t("div",D,[a("div",y,[a("button",{disabled:!e.headerProps.previousYear,class:"previousYear","aria-label":"Previous Year",onClick:l[1]||(l[1]=o((t=>e.onInput(e.headerProps.previousYear)),["prevent"]))},n(e.previousYearLabel),9,["disabled"]),a("button",{disabled:!e.headerProps.previousPeriod,class:"previousPeriod","aria-label":"Previous Period",onClick:l[2]||(l[2]=o((t=>e.onInput(e.headerProps.previousPeriod)),["prevent"])),innerHTML:e.previousPeriodLabel},null,8,["disabled","innerHTML"]),a("button",{class:"currentPeriod","aria-label":"Current Period",onClick:l[3]||(l[3]=o((t=>e.onInput(e.headerProps.currentPeriod)),["prevent"]))},n(e.headerProps.currentPeriodLabel),1),a("button",{disabled:!e.headerProps.nextPeriod,class:"nextPeriod","aria-label":"Next Period",onClick:l[4]||(l[4]=o((t=>e.onInput(e.headerProps.nextPeriod)),["prevent"]))},n(e.nextPeriodLabel),9,["disabled"]),a("button",{disabled:!e.headerProps.nextYear,class:"nextYear","aria-label":"Next Year",onClick:l[5]||(l[5]=o((t=>e.onInput(e.headerProps.nextYear)),["prevent"]))},n(e.nextYearLabel),9,["disabled"])]),a("div",f,[r(e.$slots,"label",{},(()=>[i(n(e.headerProps.periodLabel),1)]))])])};var b={today(){return this.dateOnly(new Date)},beginningOfPeriod(e,t,a){switch(t){case"year":return new Date(e.getFullYear(),0);case"month":return new Date(e.getFullYear(),e.getMonth());case"week":return this.beginningOfWeek(e,a);default:return e}},daysOfWeek(e){console.log("баганын тоо харуулж байна"),console.log("daysOfWeek");var t=new Date(e.getFullYear(),e.getMonth(),0).getDate();return console.log(e.getFullYear()),console.log(e.getMonth()),[...Array(t)].map(((t,a)=>this.addDays(e,a)))},daysCountOfMonth(e){console.log("баганын тоо харуулж байна"),console.log("daysOfWeek");var t=new Date(e.getFullYear(),e.getMonth(),0).getDate();return console.log(e.getFullYear()),console.log(e.getMonth()),t},daysOfMonth(e){return console.log("daysOfMonth"),[...Array(b.daysCountOfMonth(e))].map(((t,a)=>this.addDays(e,a)))},daysCountInMonth:(e,t)=>new Date(t,e,0).getDate(),addDays:(e,t)=>(console.log("add days"),console.log(e),console.log(t),new Date(e.getFullYear(),e.getMonth(),e.getDate()+t,e.getHours(),e.getMinutes(),e.getSeconds())),beginningOfWeek(e,t){return console.log("beginningOfWeek check"),console.log(e),console.log(e.getDay()),this.addDays(e,(t-e.getDay()-7)%-7)},endOfWeek(e,t){return console.log("endOfWeek check"),console.log(t),console.log(e),this.addDays(this.beginningOfWeek(e,t),14)},beginningOfMonth:e=>new Date(e.getFullYear(),e.getMonth()),instanceOfMonth:e=>Math.ceil(e.getDate()/b.daysCountOfMonth(e)),incrementPeriod:(e,t,a)=>(console.log("incrementPeriod check "+a),new Date(e.getFullYear()+("year"==t?a:0),e.getMonth()+("month"==t?a:0),e.getDate()+("week"==t?7*a:0))),paddedMonth:e=>("0"+String(e.getMonth()+1)).slice(-2),paddedDay:e=>("0"+String(e.getDate())).slice(-2),isoYearMonth(e){return e.getFullYear()+"-"+this.paddedMonth(e)},isoYearMonthDay(e){return console.log("isoYearMonthDay"),console.log(e),console.log(this.paddedDay(e)),console.log(this.isoYearMonth(e)),this.isoYearMonth(e)+"-"+this.paddedDay(e)},isoMonthDay(e){return this.paddedMonth(e)+"-"+this.paddedDay(e)},formattedTime(e,t,a){if(0===e.getHours()&&0===e.getMinutes()&&0===e.getSeconds())return"";if(!this.supportsIntl()){var o=6e4*(new Date).getTimezoneOffset();return new Date(e.getTime()-o).toISOString().slice(11,16)}return e.toLocaleTimeString(t,a)},formattedPeriod(e,t,a,o){const n=e.getFullYear()===t.getFullYear(),r=this.isSameMonth(e,t),s=!("year"===a)&&!("month"===a);let i=[];return i.push(o[e.getMonth()]),s&&(i.push(" "),i.push(e.getDate())),n||(i.push(s?", ":" "),i.push(e.getFullYear())),r&&n?s&&i.push(" – "):(i.push(" – "),r||i.push(o[t.getMonth()]),s&&i.push(" ")),s?(i.push(t.getDate()),i.push(", ")):i.push(" "),i.push(t.getFullYear()),i.join("")},dayDiff:(e,t)=>(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())-Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))/864e5,isSameDate(e,t){return console.log("isSameDate"),console.log(e),console.log(t),e&&t&&0===this.dayDiff(e,t)},isSameDateTime:(e,t)=>e&&t&&e.getTime()===t.getTime(),isSameMonth:(e,t)=>e&&t&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth(),isPastMonth(e){return this.beginningOfMonth(e)<this.beginningOfMonth(this.today())},isFutureMonth(e){return this.beginningOfMonth(e)>this.beginningOfMonth(this.today())},isInFuture(e){return this.dateOnly(e)>this.today()},isInPast(e){return this.dateOnly(e)<this.today()},isLastInstanceOfMonth(e){return e.getMonth()!==this.addDays(e,b.daysCountOfMonth(e)).getMonth()},isLastDayOfMonth(e){return e.getMonth()!==this.addDays(e,1).getMonth()},fromIsoStringToLocalDate(e){let t=[...Array(7)].map((e=>0));return e.split(/\D/,7).forEach(((e,a)=>t[a]=Number(e))),t[1]--,new Date(t[0],t[1],t[2],t[3],t[4],t[5],t[6])},toLocalDate(e){return"string"==typeof e?this.fromIsoStringToLocalDate(e):new Date(e)},dateOnly(e){const t=new Date(e);return t.setHours(0,0,0,0),t},languageCode:e=>e.substring(0,2),supportsIntl:()=>"undefined"!=typeof Intl,getFormattedMonthNames(e,t){if(!this.supportsIntl())return[...Array(12)].map((e=>""));const a=new Intl.DateTimeFormat(e,{month:t});return[...Array(12)].map(((e,t)=>a.format(new Date(2017,t,1))))},getFormattedWeekdayNames(e,t,a){if(!this.supportsIntl())return[...Array(7)].map((e=>""));const o=new Intl.DateTimeFormat(e,{weekday:t});return console.log("weekdaysArray"),console.log([...Array(30)].map(((e,t)=>o.format(new Date(2017,0,(t+1+a)%7))))),[...Array(30)].map(((e,t)=>o.format(new Date(2017,0,(t+1+a)%7))))},getDefaultBrowserLocale:()=>"undefined"==typeof navigator?"unk":(navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language).toLowerCase(),normalizeItem(e,t){const a=e.classes?[...e.classes]:[];return t&&a.push("isHovered"),{originalItem:e,startDate:this.toLocalDate(e.startDate),endDate:this.toLocalDate(e.endDate||e.startDate),classes:a,title:e.title||"Untitled",id:e.id,roomNo:Number(e.roomNo)}}};class v{constructor(){this.currentDragItem=null,this.dateSelectionOrigin=null,this.currentHoveredItemId="",this.CalendarMath=b}}var S=e({name:"CalendarView",props:{showDate:{type:Date,default:void 0},displayPeriodUom:{type:String,default:"month"},displayPeriodCount:{type:Number,default:1},displayWeekNumbers:{type:Boolean,default:!0},locale:{type:String,default:void 0},monthNameFormat:{type:String,default:"long"},weekdayNameFormat:{type:String,default:"short"},showTimes:{type:Boolean,default:!1},timeFormatOptions:{type:Object,default:()=>{}},disablePast:{type:Boolean,default:!1},disableFuture:{type:Boolean,default:!1},enableDateSelection:{type:Boolean,default:!1},selectionStart:{type:Date,default:null},selectionEnd:{type:Date,default:null},enableDragDrop:{type:Boolean,default:!1},startingDayOfWeek:{type:Number,default:0},items:{type:Array,default:()=>[]},dateClasses:{type:Object,default:()=>{}},itemTop:{type:String,default:"1.4em"},itemContentHeight:{type:String,default:"1.4em"},itemBorderHeight:{type:String,default:"2px"},periodChangedCallback:{type:Function,default:void 0},currentPeriodLabel:{type:String,default:""},currentPeriodLabelIcons:{type:String,default:"⇤-⇥"},doEmitItemMouseEvents:{type:Boolean,default:!1}},emits:["input","period-changed","click-date","click-item","item-mouseenter","item-mouseleave","drag-start","drag-over-date","drag-enter-date","drag-leave-date","drop-on-date","date-selection","date-selection-start","date-selection-finish"],data:()=>new v,computed:{displayLocale(){return this.locale||b.getDefaultBrowserLocale()},defaultedShowDate(){return this.showDate?b.dateOnly(this.showDate):b.today()},periodStart(){return b.beginningOfPeriod(this.defaultedShowDate,this.displayPeriodUom,this.startingDayOfWeek)},periodEnd(){return b.addDays(b.incrementPeriod(this.periodStart,this.displayPeriodUom,this.displayPeriodCount),-1)},periodStartCalendarWeek(){const e=b.beginningOfWeek(b.beginningOfPeriod(this.periodStart,"year",0),this.startingDayOfWeek),t=b.beginningOfWeek(this.periodStart,this.startingDayOfWeek);return 1+Math.floor(b.dayDiff(e,t)/7)},displayFirstDate(){return b.beginningOfWeek(this.periodStart,this.startingDayOfWeek)},displayLastDate(){return console.log("displayLastDate"),console.log(this.periodEnd),console.log(this.startingDayOfWeek),b.endOfWeek(this.periodEnd,this.startingDayOfWeek)},weeksOfPeriod(){const e=Math.floor((b.dayDiff(this.displayFirstDate,this.displayLastDate)+1)/15);return console.log("weeksOfPeriod111"),console.log(e),console.log(this.displayFirstDate),console.log(this.displayLastDate),console.log([...Array(e)].map(((e,t)=>b.addDays(this.displayFirstDate,30*t)))),[...Array(e)].map(((e,t)=>b.addDays(this.displayFirstDate,30*t)))},rooms(){const e=Math.floor((b.dayDiff(this.displayFirstDate,this.displayLastDate)+1)/11);return console.log("numWeeksss"),console.log(e),console.log(this.displayFirstDate),console.log(this.displayLastDate),[102,103]},monthNames(){return b.getFormattedMonthNames(this.displayLocale,this.monthNameFormat)},weekdayNames(){return b.getFormattedWeekdayNames(this.displayLocale,this.weekdayNameFormat,this.startingDayOfWeek)},fixedItems(){const e=this;return console.log("fixedItems"),console.log(this.items.map((t=>b.normalizeItem(t,t.id===e.currentHoveredItemId)))),this.items?this.items.map((t=>b.normalizeItem(t,t.id===e.currentHoveredItemId))):[]},currentPeriodStart(){return b.beginningOfPeriod(b.today(),this.displayPeriodUom,this.startingDayOfWeek)},currentPeriodEnd(){return b.addDays(b.incrementPeriod(this.currentPeriodStart,this.displayPeriodUom,this.displayPeriodCount),-1)},periodLabel(){return b.formattedPeriod(this.periodStart,this.periodEnd,this.displayPeriodUom,this.monthNames)},currentPeriodLabelFinal(){const e=this.currentPeriodStart,t=this.periodStart;return this.currentPeriodLabel?"icons"===this.currentPeriodLabel?this.currentPeriodLabelIcons[Math.sign(e.getTime()-t.getTime())+1]:this.currentPeriodLabel:b.formattedPeriod(e,this.currentPeriodEnd,this.displayPeriodUom,this.monthNames)},headerProps(){return{previousYear:this.getIncrementedPeriod(-12),previousPeriod:this.getIncrementedPeriod(-1),nextPeriod:this.getIncrementedPeriod(1),previousFullPeriod:this.getIncrementedPeriod(-this.displayPeriodCount),nextFullPeriod:this.getIncrementedPeriod(this.displayPeriodCount),nextYear:this.getIncrementedPeriod(12),currentPeriod:this.currentPeriodStart,currentPeriodLabel:this.currentPeriodLabelFinal,periodStart:this.periodStart,periodEnd:this.periodEnd,displayLocale:this.displayLocale,displayFirstDate:this.displayFirstDate,displayLastDate:this.displayLastDate,monthNames:this.monthNames,fixedItems:this.fixedItems,periodLabel:this.periodLabel}},periodRange(){return{periodStart:this.periodStart,periodEnd:this.periodEnd,displayFirstDate:this.displayFirstDate,displayLastDate:this.displayLastDate}}},watch:{periodRange:{immediate:!0,handler(e){this.periodChangedCallback&&(this.$emit("period-changed"),this.periodChangedCallback(e,"watch"))}}},methods:{onClickDay(e,t,a){console.log("day clicked"),this.disablePast&&b.isInPast(e)||this.disableFuture&&b.isInFuture(e)||(console.log("day clicked2"),this.$emit("click-date",e,this.findAndSortItemsInDateRange(a,e,e),t))},onClickItem(e,t){this.$emit("click-item",e,t)},getColumnDOWClass(e){return console.log("what is day index"),console.log(e),"dow"+(e+this.startingDayOfWeek)%30},getIncrementedPeriod(e){const t=b.incrementPeriod(this.periodStart,this.displayPeriodUom,e),a=b.incrementPeriod(t,this.displayPeriodUom,this.displayPeriodCount);return console.log("getIncrementedPeriod"),console.log(a),console.log(t),this.disablePast&&a<=b.today()||this.disableFuture&&t>b.today()?null:t},onMouseEnterItem(e,t){this.currentHoveredItemId=e.id,this.doEmitItemMouseEvents&&this.$emit("item-mouseenter",e,t)},onMouseLeaveItem(e,t){this.currentHoveredItemId="",this.doEmitItemMouseEvents&&this.$emit("item-mouseleave",e,t)},onDragDateStart(e,t){var a,o;if(!this.enableDateSelection)return!1;null==(a=t.dataTransfer)||a.setData("text",e.toString());let n=new Image;return n.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",null==(o=t.dataTransfer)||o.setDragImage(n,10,10),this.dateSelectionOrigin=e,this.emitDateSelection("date-selection-start",e,t),!0},onDragItemStart(e,t){var a;return!!this.enableDragDrop&&(null==(a=t.dataTransfer)||a.setData("text",e.id),this.currentDragItem=e,this.dateSelectionOrigin=null,this.$emit("drag-start",e,t),!0)},handleDragEvent(e,t,a){return console.log("handleDragEvent1"),!!this.enableDragDrop&&(console.log("handleDragEvent2"),this.$emit(e,this.currentDragItem,t,a),!0)},handleDropEvent(e,t,a,o){return console.log("handleDropEvent"),console.log(o),!!this.enableDragDrop&&(console.log("handleDragEvent2"),this.currentDragItem&&(console.log("handleDragEvent2SET"),this.currentDragItem.roomNo=Number(o)),this.$emit(e,this.currentDragItem,t,a),!0)},onDragOver(e,t){console.log("onDragOver check"),this.handleDragEvent("drag-over-date",e,t)},onDragEnter(e,t){if(console.log("onDragEnter check"),this.enableDateSelection&&this.dateSelectionOrigin)return void this.emitDateSelection("date-selection",e,t);if(console.log("onDragEnter check1"),!this.handleDragEvent("drag-enter-date",e,t))return;console.log("onDragEnter check2");const a=t.target;console.log(a),a.classList.add("draghover")},onDragLeave(e,t){if(console.log("onDragLeave check"),this.enableDateSelection&&this.selectionStart)return;if(!this.handleDragEvent("drag-leave-date",e,t))return;t.target.classList.remove("draghover")},onDrop(e,t,a){if(console.log("onDrop check roomNo"),1==this.dayHasItemsInNewRange(e,a)){console.log("illicit range");return void t.target.classList.remove("draghover")}if(this.enableDateSelection&&this.dateSelectionOrigin)return console.log("onDrop check1"),console.log("drop returned"),void this.emitDateSelection("date-selection-finish",e,t);if(console.log("onDrop check2"),!this.handleDropEvent("drop-on-date",e,t,a))return void console.log("drop returned");t.target.classList.remove("draghover")},emitDateSelection(e,t,a){console.log("emitDateSelection"),console.log(this.dateSelectionOrigin),console.log(e),console.log(t),this.dateSelectionOrigin&&this.$emit(e,t<=this.dateSelectionOrigin?[t,this.dateSelectionOrigin,a]:[this.dateSelectionOrigin,t,a])},itemComparer:(e,t)=>(console.log(e.startDate+":ID:"+e.id),console.log(t.startDate+":ID:"+t.id),e.startDate<t.startDate?-1:t.startDate<e.startDate?1:e.endDate>t.endDate?-1:t.endDate>e.endDate?1:e.id<t.id?-1:1),findAndSortItemsInWeek(e,t){let a=Number(b.daysCountOfMonth(e))-Number(1);return console.log("findAndSortItemsInWeek daycount:"+a),this.findAndSortItemsInDateRange(t,e,b.addDays(e,a))},findAndSortItemsInDateRange(e,t,a){return console.log("findAndSortItemsInDateRange"+t+"enddate:"+a),console.log("checkRoomNoWithIndex"),console.log(e),this.fixedItems.filter((o=>o.roomNo==e&&o.endDate>=t&&b.dateOnly(o.startDate)<=a),this).sort(this.itemComparer)},dayHasItems(e){return!!this.fixedItems.find((t=>t.endDate>=e&&b.dateOnly(t.startDate)<=e))},dayHasItemsInNewRange(e,t){var a,o;console.log(e);const n=b.dayDiff(null==(a=this.currentDragItem)?void 0:a.startDate,null==(o=this.currentDragItem)?void 0:o.endDate),r=b.addDays(e,n),s=this.fixedItems.filter((e=>{var a;return e.id!=(null==(a=this.currentDragItem)?void 0:a.id)&&e.roomNo==t}));return console.log("dayHasItemsInNewRange"),s.filter((e=>r>=new Date(e.startDate.toDateString())&&r<=new Date(e.endDate.toDateString()))).length>0||(s.filter((t=>e>=new Date(t.startDate.toDateString())&&e<=new Date(t.endDate.toDateString()))).length>0||(s.filter((t=>e<=new Date(t.startDate.toDateString())&&r>=new Date(t.startDate.toDateString()))).length>0||s.filter((t=>e<=new Date(t.endDate.toDateString())&&r>=new Date(t.endDate.toDateString()))).length>0))},dayIsSelected(e){return console.log("aria selected"),!(!this.selectionStart||!this.selectionEnd)&&(!(e<b.dateOnly(this.selectionStart))&&!(e>b.dateOnly(this.selectionEnd)))},getWeekItems(e,t){const a=this.findAndSortItemsInWeek(e,t),o=[],n=b.daysCountOfMonth(e)-1,r=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]];console.log("getweeksitemsssAAA"+n+"d:"+a);for(let s=0;s<a.length;s++){const t=Object.assign({},a[s],{classes:[...a[s].classes],itemRow:0}),i=t.startDate<e,l=i?0:b.dayDiff(e,t.startDate),d=Math.min(n-l,b.dayDiff(b.addDays(e,l),t.endDate)+1);i&&t.classes.push("continued"),console.log("getWeekItems"),console.log(t.endDate),console.log(l),b.dayDiff(e,t.endDate)>29&&t.classes.push("toBeContinued"),b.isInPast(t.endDate)&&t.classes.push("past"),t.originalItem.url&&t.classes.push("hasUrl");for(let e=0;e<n;e++)if(e===l){let a=0;for(;r[e][a];)a++;t.itemRow=a,r[e][a]=!0}else e<l+d&&(r[e][t.itemRow]=!0);t.classes.push(`offset${l}`),t.classes.push(`span${d}`),o.push(t)}return console.log("roomNoCheck"),console.log(o),o},getFormattedTimeRange(e){const t='<span class="startTime">'+b.formattedTime(e.startDate,this.displayLocale,this.timeFormatOptions)+"</span>";let a="";return b.isSameDateTime(e.startDate,e.endDate)||(a=b.formattedTime(e.endDate,this.displayLocale,this.timeFormatOptions)+"</span>"),t+a},getItemTitle(e){return this.showTimes?this.getFormattedTimeRange(e)+e.title:e.title},getItemTop(e){const t=e.itemRow,a=this.itemContentHeight,o=this.itemBorderHeight;return`calc(${this.itemTop} + ${t}*${a} + ${t}*${o})`},getRoomTop(e){const t=e-Number(1),a=this.itemContentHeight,o=this.itemBorderHeight;return console.log("Roomtop"),console.log(`calc(${this.itemTop} + ${e}*${a} + ${e}*${o})`),`calc(${this.itemTop} + ${t}*${a} + ${t}*${o})`}}});const I={class:"cv-header-days"},P=a("div",{class:"cv-weeknumber first-col"},[a("span",null,"部屋")],-1),M={class:"cv-weeknumber first-col"},w={class:"cv-weekdays"},C=a("div",{class:"cv-day-number"},null,-1);S.render=function(e,i,h,c,g,u){return s(),t("div",{"aria-label":"Calendar",class:["cv-wrapper","locale-"+e.CalendarMath.languageCode(e.displayLocale),"locale-"+e.displayLocale,"y"+e.periodStart.getFullYear(),"m"+e.CalendarMath.paddedMonth(e.periodStart),"period-"+e.displayPeriodUom,"periodCount-"+e.displayPeriodCount,{past:e.CalendarMath.isPastMonth(e.periodStart),future:e.CalendarMath.isFutureMonth(e.periodStart),noIntl:!e.CalendarMath.supportsIntl}]},[r(e.$slots,"header",{headerProps:e.headerProps}),a("div",I,[P,(s(!0),t(l,null,d(e.CalendarMath.daysOfWeek(this.periodStart),((a,o)=>r(e.$slots,"dayHeader",{index:e.getColumnDOWClass(o),label:a},(()=>[(s(),t("div",{key:e.getColumnDOWClass(o),class:[[e.getColumnDOWClass(o),e.CalendarMath.isSameDate(a,e.CalendarMath.today())?"cv-today":""],"cv-header-day"]},n(a.getDate()),3))])))),256))]),a("div",{"aria-multiselectable":e.enableDateSelection,class:"cv-weeks"},[(s(!0),t(l,null,d(e.rooms,(i=>(s(),t("div",{key:`${i}-week`,class:["cv-week","week"+i,"ws"+e.CalendarMath.isoYearMonthDay(this.periodStart)]},[a("div",M,[r(e.$slots,"weekNumber",{date:this.periodStart,numberInPeriod:i},(()=>[a("span",null,n(i),1)]))]),a("div",w,[(s(!0),t(l,null,d(e.CalendarMath.daysOfWeek(this.periodStart),((a,n)=>(s(),t("div",{key:e.getColumnDOWClass(n),draggable:e.enableDateSelection,class:["cv-day ",e.getColumnDOWClass(n),"d"+e.CalendarMath.isoYearMonthDay(a),"d"+e.CalendarMath.isoMonthDay(a),"d"+e.CalendarMath.paddedDay(a),"R"+i,"instance"+e.CalendarMath.instanceOfMonth(a),{today:e.CalendarMath.isSameDate(a,e.CalendarMath.today()),outsideOfMonth:!e.CalendarMath.isSameMonth(a,e.defaultedShowDate),past:e.CalendarMath.isInPast(a),future:e.CalendarMath.isInFuture(a),last:e.CalendarMath.isLastDayOfMonth(a),lastInstance:e.CalendarMath.isLastInstanceOfMonth(a),hasItems:e.dayHasItems(a),selectionStart:e.CalendarMath.isSameDate(a,e.selectionStart),selectionEnd:e.CalendarMath.isSameDate(a,e.selectionEnd)},...e.dateClasses&&e.dateClasses[e.CalendarMath.isoYearMonthDay(a)]||[]],"aria-grabbed":e.enableDateSelection?e.dayIsSelected(a):"undefined","aria-label":a.getDate(),"aria-selected":e.dayIsSelected(a),"aria-dropeffect":e.enableDragDrop&&e.currentDragItem?"move":e.enableDateSelection&&e.dateSelectionOrigin?"execute":"none",onClick:t=>e.onClickDay(a,t,i),onDragstart:t=>e.onDragDateStart(a,t),onDrop:o((t=>e.onDrop(a,t,i)),["prevent"]),onDragover:o((t=>e.onDragOver(a,t)),["prevent"]),onDragenter:o((t=>e.onDragEnter(a,t)),["prevent"]),onDragleave:o((t=>e.onDragLeave(a,t)),["prevent"])},[C,r(e.$slots,"dayContent",{day:a})],42,["draggable","aria-grabbed","aria-label","aria-selected","aria-dropeffect","onClick","onDragstart","onDrop","onDragover","onDragenter","onDragleave"])))),128)),(s(!0),t(l,null,d(e.getWeekItems(this.periodStart,i),(a=>r(e.$slots,"item",{value:a,weekStartDate:this.periodStart,top:e.getItemTop(a)},(()=>[(s(),t("div",{key:a.id,draggable:e.enableDragDrop,"aria-grabbed":e.enableDragDrop?a==e.currentDragItem:"undefined",class:[a.classes,"cv-item"],roomNo:a.roomNo,title:a.title,style:`top:${e.getItemTop(a)};${a.originalItem.style}`,onDragstart:t=>e.onDragItemStart(a,t),onMouseenter:t=>e.onMouseEnterItem(a,t),onMouseleave:t=>e.onMouseLeaveItem(a,t),onClick:o((t=>e.onClickItem(a,t)),["stop"]),innerHTML:e.getItemTitle(a)},null,46,["draggable","aria-grabbed","roomNo","title","onDragstart","onMouseenter","onMouseleave","onClick","innerHTML"]))])))),256))])],2)))),128))],8,["aria-multiselectable"])],2)};class O{constructor(){this.message="",this.showDate=new Date,this.startDate=new Date,this.selectionStart=null,this.selectionEnd=null,this.theme="gcal",this.items=[],this.displayPeriodUom="gcal",this.newItemTitle="",this.newItemStartDate=new Date,this.newItemEndDate=new Date,this.width=0,this.height=0,this.top=0,this.left=0}}var k=e({name:"CalendarDemoApp",components:{CalendarView:S,CalendarViewHeader:p},data:()=>new O,computed:{themeOptions(){return"gcal"==this.theme?{top:"0.1em",height:"2.1em",border:"0px",previousYearLabel:"",previousPeriodLabel:"",nextPeriodLabel:"",nextYearLabel:"",currentPeriodLabel:"Today"}:{top:"1.4em",height:"1.4em",border:"2px",previousYearLabel:"<<",previousPeriodLabel:"<",nextPeriodLabel:">",nextYearLabel:">>",currentPeriodLabel:""}}},mounted(){this.items=[...Array(25)].map(((e,t)=>this.getRandomEvent(t)))},methods:{setShowDate(e){this.showDate=e,this.message=`Changing calendar view to ${e.toLocaleDateString()}`},setSelection(e){this.selectionEnd=e[1],this.selectionStart=e[0]},onClickDay(e){this.selectionStart=null,this.selectionEnd=null,this.message=`You clicked: ${e.toLocaleDateString()}`},finishSelection(e){this.setSelection(e),this.message=`You selected: ${this.selectionStart} -${this.selectionEnd}`},getRandomEvent(e){const t=Math.floor(28*Math.random()+1),a=Math.floor(4*Math.random())+t;var o=new Date;return{id:e.toString(),title:"Event "+(e+1),startDate:new Date(Date.UTC(o.getUTCFullYear(),o.getUTCMonth(),t)),endDate:new Date(Date.UTC(o.getUTCFullYear(),o.getUTCMonth(),a)),classes:Math.random()>.9?["custom-date-class-red"]:null,roomNo:Number(e<5?102:103)}},onDrop(e,t){console.log("ONDROPAPP "),console.log(e.originalItem.roomNo),console.log(e.roomNo),console.log(e.itemRow);const a=b.dayDiff(e.startDate,t);e.originalItem.startDate=b.addDays(e.startDate,a),e.originalItem.endDate=b.addDays(e.endDate,a),e.originalItem.roomNo=e.roomNo},clickTestAddItem(){this.items.push({startDate:this.newItemStartDate,endDate:this.newItemEndDate,title:this.newItemTitle,roomNo:102,id:"e"+Math.random().toString(36).substr(2,10)}),this.message="You added a calendar item!"}}});const L=g("data-v-87fd4cf8");h("data-v-87fd4cf8");const F={id:"app"};c();const A=L(((e,o,n,r,i,l)=>{const d=u("calendar-view-header"),h=u("calendar-view");return s(),t("div",F,[a(h,{"show-date":e.showDate,items:e.items,"enable-date-selection":!0,"selection-start":e.selectionStart,"selection-end":e.selectionEnd,"display-period-uom":e.displayPeriodUom,"display-period-count":e.displayPeriodCount,"display-week-numbers":!1,"enable-drag-drop":!0,"item-top":e.themeOptions.top,"item-content-height":e.themeOptions.height,"item-border-height":e.themeOptions.border,class:["theme-"+e.theme,"holiday-us-traditional holiday-us-official"],"current-period-label":e.themeOptions.currentPeriodLabel,onDateSelectionStart:e.setSelection,onDateSelection:e.setSelection,onDateSelectionFinish:e.finishSelection,onDropOnDate:e.onDrop},{header:L((({headerProps:t})=>[a(d,{"header-props":t,"previous-year-label":e.themeOptions.previousYearLabel,"previous-period-label":e.themeOptions.previousPeriodLabel,"next-period-label":e.themeOptions.nextPeriodLabel,"next-year-label":e.themeOptions.nextYearLabel,onInput:e.setShowDate},null,8,["header-props","previous-year-label","previous-period-label","next-period-label","next-year-label","onInput"])])),_:1},8,["show-date","items","selection-start","selection-end","display-period-uom","display-period-count","item-top","item-content-height","item-border-height","class","current-period-label","onDateSelectionStart","onDateSelection","onDateSelectionFinish","onDropOnDate"])])}));k.render=A,k.__scopeId="data-v-87fd4cf8",m(k).mount("#app");
